<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Departamento</title>

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="fun-app">

        <header class="fun-header" th:insert="~{fragments/nav :: nav}"></header>

        <main class="fun-main">
            
            <form id="form-departamento" class="fun-form"
                th:action="@{/departamento/cadastrar_departamento}" th:object="${departamentoDTO}" th:method="post">
                
                <h2>Cadastro de Departamentos</h2>
                
                <div class="fun-field">
                    <label for="nome" form="form-departamento"> Nome: </label>
                    <input type="text" id="nome" th:field="*{nome}" placeholder="Tecnologia da Informação">
                </div>

                <div class="fun-field">
                    <label for="descricao" form="form-departamento"> Descrição: </label>
                    <input type="text" id="descricao" th:field="*{descricao}">
                </div>

                <div class="fun-field">
                    <label for="gerente">Gerente:</label>
                    <select id="gerente" th:field="*{gerenteId}">
                        <option value="" disabled selected>Selecione</option>
                        <option th:each="funcionario : ${funcionarios}" 
                                th:value="${funcionario.id}" 
                                th:text="${funcionario.nome}">
                        </option>
                        <option th:if="${#lists.isEmpty(funcionarios)}" value="" disabled>Sem funcionários cadastrados</option>
                    </select>
                </div>

                <button class="fun-submit" type="submit">CREATE</button>
            </form>


            <div th:if="${messageStyle == 'fun-message fun-sucess'}" th:class="${messageStyle}">
                <p th:text="${messageText}"></p>
            </div>

            <div th:if="${messageStyle == 'fun-message fun-error'}" th:class="${messageStyle}">
                <ul th:if="${messageText}">
                    <li th:each="error : ${messageText}" th:text="${error}"></li>
                </ul>
            </div>
        
        </main>
    
    </div>
</body>
</html>